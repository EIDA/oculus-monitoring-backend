zabbix_export:
  version: '7.0'
  template_groups:
    - uuid: 44950db14d8549c2a022ab3d5ba3ff96
      name: Templates/EIDA
  host_groups:
    - uuid: 538a19975c7a43cf8a349b953d587723
      name: 'EIDA nodes'
  templates:
    - uuid: 74f0d2bd954841d39f19a0c7d06549ee
      template: 'Template discovery'
      name: 'Template discovery'
      description: 'Template for discovery agent/host'
      groups:
        - name: Templates/EIDA
      discovery_rules:
        - uuid: 73a97a466ed542a98a67e3e2c61af74a
          name: EIDA_ENDPOINT
          key: eida.lld
          host_prototypes:
            - uuid: 357b595cf81e44a8a70842dbd8887fdd
              host: '{#ENDPOINT}'
              name: '{#NODE}'
              inventory_mode: AUTOMATIC
              group_links:
                - group:
                    name: 'EIDA nodes'
              group_prototypes:
                - name: '{#NODE}'
              templates:
                - name: 'Template performance checks'
                - name: 'Template webservices'
                - name: 'Website certificate by Zabbix agent 2'
              macros:
                - macro: '{$CERT.EXPIRY.WARN}'
                  value: '14'
                  description: 'Number of days until the certificate expires.'
                - macro: '{$CERT.WEBSITE.HOSTNAME}'
                  value: '{#ENDPOINT}'
                - macro: '{$ENDPOINT}'
                  value: '{#ENDPOINT}'
                  description: 'Node endpoint URL'
                - macro: '{$NODE}'
                  value: '{#NODE}'
                  description: 'Node name'
                - macro: '{$ONLINECHECK_CHA}'
                  value: '{#ONLINECHECK_CHA}'
                  description: 'Node channel check'
                - macro: '{$ONLINECHECK_END}'
                  value: '{#ONLINECHECK_END}'
                  description: 'Node end time'
                - macro: '{$ONLINECHECK_LOC}'
                  value: '{#ONLINECHECK_LOC}'
                  description: 'Node location check'
                - macro: '{$ONLINECHECK_NET}'
                  value: '{#ONLINECHECK_NET}'
                  description: 'Node network check'
                - macro: '{$ONLINECHECK_STA}'
                  value: '{#ONLINECHECK_STA}'
                  description: 'Node station check'
                - macro: '{$ONLINECHECK_START}'
                  value: '{#ONLINECHECK_START}'
                  description: 'Node start time'
    - uuid: a2974168aa6d40d0ba1bd70dbae9f629
      template: 'Template eida consistency'
      name: 'Template eida consistency'
      groups:
        - name: Templates/EIDA
      items:
        - uuid: c3c7b983bee243daa52b97ae753f4dbe
          name: 'Report json'
          type: TRAP
          key: report.json
          delay: '0'
          history: 365d
          value_type: TEXT
          trends: '0'
          description: 'entier report json of eida consistency test'
          tags:
            - tag: Application
              value: consistency
            - tag: format
              value: json
        - uuid: 233416c295964e57a6b2a9fa7fedde54
          name: 'Global score'
          type: TRAP
          key: score.eida_consistency
          delay: '0'
          history: 365d
          value_type: FLOAT
          trends: 3000d
          tags:
            - tag: Application
              value: consistency
            - tag: score
    - uuid: d5f772753ba54fe89d1f9f8c69b05c11
      template: 'Template performance checks'
      name: 'Template performance checks'
      groups:
        - name: Templates/EIDA
      items:
        - uuid: 14d3986c603e476d82f592b2b6426e68
          name: 'perfCheck Availability - 1stream15days - Content Size Bytes'
          type: TRAP
          key: availability.1stream15days.content_size_bytes
          delay: '0'
          history: 365d
          units: B
          description: 'Content size in bytes for availability 1stream15days'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 1stream15days
            - tag: webservice
              value: availability
        - uuid: 11ac8f142b324e05a595fc83f6ee9dab
          name: 'perfCheck Availability - 1stream15days - Response Time Ms'
          type: TRAP
          key: availability.1stream15days.response_time_ms
          delay: '0'
          history: 365d
          value_type: FLOAT
          units: ms
          description: 'Response time in milliseconds for availability 1stream15days'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 1stream15days
            - tag: webservice
              value: availability
        - uuid: 18db6032b8ad4426999add062e6a2f2f
          name: 'perfCheck Availability - 1stream15days - Status Code'
          type: TRAP
          key: availability.1stream15days.status_code
          delay: '0'
          history: 365d
          value_type: TEXT
          trends: '0'
          description: 'HTTP status code for availability 1stream15days'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 1stream15days
            - tag: webservice
              value: availability
        - uuid: 3b0f7ff76b55440a86d508101ffa2feb
          name: 'perfCheck Availability - 1stream15days - Transfer Rate'
          type: TRAP
          key: availability.1stream15days.transfer_rate
          delay: '0'
          history: 365d
          units: bytes/s
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 1stream15days
            - tag: webservice
              value: availability
        - uuid: dfee44fb1fd94556a2c41cf783cfb0e3
          name: 'perfCheck Availability - 9streams - Content Size Bytes'
          type: TRAP
          key: availability.9streams.content_size_bytes
          delay: '0'
          history: 365d
          units: B
          description: 'Content size in bytes for availability 9streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 9streams
            - tag: webservice
              value: availability
        - uuid: d1d4ec99099d46b88dbda282c514df27
          name: 'perfCheck Availability - 9streams - Response Time Ms'
          type: TRAP
          key: availability.9streams.response_time_ms
          delay: '0'
          history: 365d
          value_type: FLOAT
          units: ms
          description: 'Response time in milliseconds for availability 9streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 9streams
            - tag: webservice
              value: availability
        - uuid: 5cb194727a0a41c792d2d1ce7e0d564d
          name: 'perfCheck Availability - 9streams - Status Code'
          type: TRAP
          key: availability.9streams.status_code
          delay: '0'
          history: 365d
          value_type: TEXT
          trends: '0'
          description: 'HTTP status code for availability 9streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 9streams
            - tag: webservice
              value: availability
        - uuid: 0f15ff81e3fb435784d820882edc95bb
          name: 'perfCheck Availability - 9streams - Transfer Rate'
          type: TRAP
          key: availability.9streams.transfer_rate
          delay: '0'
          history: 365d
          units: bytes/s
          description: 'Data transfer rate in bytes per second for availability 9streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 9streams
            - tag: webservice
              value: availability
        - uuid: e040918e33de454dbf3d97d8493a0377
          name: 'perfCheck Availability - 54streams - Content Size Bytes'
          type: TRAP
          key: availability.54streams.content_size_bytes
          delay: '0'
          history: 365d
          units: B
          description: 'Content size in bytes for availability 54streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 54streams
            - tag: webservice
              value: availability
        - uuid: f205ad36a9b54c359453c60b857a6e29
          name: 'perfCheck Availability - 54streams - Response Time Ms'
          type: TRAP
          key: availability.54streams.response_time_ms
          delay: '0'
          history: 365d
          value_type: FLOAT
          units: ms
          description: 'Response time in milliseconds for availability 54streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 54streams
            - tag: webservice
              value: availability
        - uuid: d2c69bded0b949c98b6dc2538122268a
          name: 'perfCheck Availability - 54streams - Status Code'
          type: TRAP
          key: availability.54streams.status_code
          delay: '0'
          history: 365d
          value_type: TEXT
          trends: '0'
          description: 'HTTP status code for availability 54streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 54streams
            - tag: webservice
              value: availability
        - uuid: 9a0bfc3077b0469886ec67fe806504da
          name: 'perfCheck Availability - 54streams - Transfer Rate'
          type: TRAP
          key: availability.54streams.transfer_rate
          delay: '0'
          history: 365d
          units: bytes/s
          description: 'Data transfer rate in bytes per second for availability 54streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 54streams
            - tag: webservice
              value: availability
        - uuid: c6a8cea73fbf4144a69979a3f049b3c4
          name: 'perfCheck Availability - 320streams - Content Size Bytes'
          type: TRAP
          key: availability.320streams.content_size_bytes
          delay: '0'
          history: 365d
          units: B
          description: 'Content size in bytes for availability 320streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 320streams
            - tag: webservice
              value: availability
        - uuid: c1641a059b744bf9a062ef615c594abe
          name: 'perfCheck Availability - 320streams - Response Time Ms'
          type: TRAP
          key: availability.320streams.response_time_ms
          delay: '0'
          history: 365d
          value_type: FLOAT
          units: ms
          description: 'Response time in milliseconds for availability 320streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 320streams
            - tag: webservice
              value: availability
        - uuid: 57f69e0feeec4c2f99ff23df53f26e64
          name: 'perfCheck Availability - 320streams - Status Code'
          type: TRAP
          key: availability.320streams.status_code
          delay: '0'
          history: 365d
          value_type: TEXT
          trends: '0'
          description: 'HTTP status code for availability 320streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 320streams
            - tag: webservice
              value: availability
        - uuid: 4b1beddede8145b7bd9dbdcb054c05ec
          name: 'perfCheck Availability - 320streams - Transfer Rate'
          type: TRAP
          key: availability.320streams.transfer_rate
          delay: '0'
          history: 365d
          units: bytes/s
          description: 'Data transfer rate in bytes per second for availability 320streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 320streams
            - tag: webservice
              value: availability
        - uuid: 8d4925f39b2349f6b4c182578cc0760c
          name: 'perfCheck Dataselect - 1stream15days - Content Size Bytes'
          type: TRAP
          key: dataselect.1stream15days.content_size_bytes
          delay: '0'
          history: 365d
          units: B
          description: 'Content size in bytes for dataselect 1stream15days'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 1stream15days
            - tag: webservice
              value: dataselect
        - uuid: 9374585765ef4f2c84553dc17652a9cf
          name: 'perfCheck Dataselect - 1stream15days - Response Time Ms'
          type: TRAP
          key: dataselect.1stream15days.response_time_ms
          delay: '0'
          history: 365d
          value_type: FLOAT
          units: ms
          description: 'Response time in milliseconds for dataselect 1stream15days'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 1stream15days
            - tag: webservice
              value: dataselect
        - uuid: b6229ec63e9945fa8126cc916ff8f940
          name: 'perfCheck Dataselect - 1stream15days - Status Code'
          type: TRAP
          key: dataselect.1stream15days.status_code
          delay: '0'
          history: 365d
          value_type: TEXT
          trends: '0'
          description: 'HTTP status code for dataselect 1stream15days'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 1stream15days
            - tag: webservice
              value: dataselect
        - uuid: e266ece1375a460e9bb67bf3f4a47fe5
          name: 'perfCheck Dataselect - 1stream15days - Transfer Rate'
          type: TRAP
          key: dataselect.1stream15days.transfer_rate
          delay: '0'
          history: 365d
          units: bytes/s
          description: 'Data transfer rate in bytes per second for dataselect 1stream15days'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 1stream15days
            - tag: webservice
              value: dataselect
        - uuid: fe2b582977674a4fad77e3cdf7c64e6f
          name: 'perfCheck Dataselect - 9streams - Content Size Bytes'
          type: TRAP
          key: dataselect.9streams.content_size_bytes
          delay: '0'
          history: 365d
          units: B
          description: 'Content size in bytes for dataselect 9streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 9streams
            - tag: webservice
              value: dataselect
        - uuid: 8e5554c1e7774f9cbfda332b2230bd07
          name: 'perfCheck Dataselect - 9streams - Response Time Ms'
          type: TRAP
          key: dataselect.9streams.response_time_ms
          delay: '0'
          history: 365d
          value_type: FLOAT
          units: ms
          description: 'Response time in milliseconds for dataselect 9streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 9streams
            - tag: webservice
              value: dataselect
        - uuid: 45e53bc1c4dc4a648f791e39555c0d15
          name: 'perfCheck Dataselect - 9streams - Status Code'
          type: TRAP
          key: dataselect.9streams.status_code
          delay: '0'
          history: 365d
          value_type: TEXT
          trends: '0'
          description: 'HTTP status code for dataselect 9streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 9streams
            - tag: webservice
              value: dataselect
        - uuid: a74342eb51764a419b932e2836590827
          name: 'perfCheck Dataselect - 9streams - Transfer Rate'
          type: TRAP
          key: dataselect.9streams.transfer_rate
          delay: '0'
          history: 365d
          units: bytes/s
          description: 'Data transfer rate in bytes per second for dataselect 9streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 9streams
            - tag: webservice
              value: dataselect
        - uuid: 363848b841e34f5cbfa7924f1d0ab385
          name: 'perfCheck Dataselect - 54streams - Content Size Bytes'
          type: TRAP
          key: dataselect.54streams.content_size_bytes
          delay: '0'
          history: 365d
          units: B
          description: 'Content size in bytes for dataselect 54streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 54streams
            - tag: webservice
              value: dataselect
        - uuid: 099d4085020642f190146d2db6c6c2de
          name: 'perfCheck Dataselect - 54streams - Response Time Ms'
          type: TRAP
          key: dataselect.54streams.response_time_ms
          delay: '0'
          history: 365d
          value_type: FLOAT
          units: ms
          description: 'Response time in milliseconds for dataselect 54streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 54streams
            - tag: webservice
              value: dataselect
        - uuid: ca51a0548099412dbab2f8e4e82c0482
          name: 'perfCheck Dataselect - 54streams - Status Code'
          type: TRAP
          key: dataselect.54streams.status_code
          delay: '0'
          history: 365d
          value_type: TEXT
          trends: '0'
          description: 'HTTP status code for dataselect 54streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 54streams
            - tag: webservice
              value: dataselect
        - uuid: 0c57f46e2e1c457293a2c3f9309a24f8
          name: 'perfCheck Dataselect - 54streams - Transfer Rate'
          type: TRAP
          key: dataselect.54streams.transfer_rate
          delay: '0'
          history: 365d
          units: bytes/s
          description: 'Data transfer rate in bytes per second for dataselect 54streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 54streams
            - tag: webservice
              value: dataselect
        - uuid: 344326790bea4c9299251e700a9de814
          name: 'perfCheck Dataselect - 320streams - Content Size Bytes'
          type: TRAP
          key: dataselect.320streams.content_size_bytes
          delay: '0'
          history: 365d
          units: B
          description: 'Content size in bytes for dataselect 320streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 320streams
            - tag: webservice
              value: dataselect
        - uuid: ad067d11c0d74ba9a8a2afa99afc573c
          name: 'perfCheck Dataselect - 320streams - Response Time Ms'
          type: TRAP
          key: dataselect.320streams.response_time_ms
          delay: '0'
          history: 365d
          value_type: FLOAT
          units: ms
          description: 'Response time in milliseconds for dataselect 320streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 320streams
            - tag: webservice
              value: dataselect
        - uuid: 2d816447bcd84bb3add116cc26c95108
          name: 'perfCheck Dataselect - 320streams - Status Code'
          type: TRAP
          key: dataselect.320streams.status_code
          delay: '0'
          history: 365d
          value_type: TEXT
          trends: '0'
          description: 'HTTP status code for dataselect 320streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 320streams
            - tag: webservice
              value: dataselect
        - uuid: 1ee8ceb49cc24b10a2b2961f41f1a8e1
          name: 'perfCheck Dataselect - 320streams - Transfer Rate'
          type: TRAP
          key: dataselect.320streams.transfer_rate
          delay: '0'
          history: 365d
          units: bytes/s
          description: 'Data transfer rate in bytes per second for dataselect 320streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 320streams
            - tag: webservice
              value: dataselect
        - uuid: 17d67084f7054df8bc02bde61da9ac2d
          name: 'perfCheck Station - 1stream15days - Transfer Rate'
          type: TRAP
          key: station.1stream15days.transfer_rate
          delay: '0'
          history: 365d
          units: bytes/s
          description: 'Data transfer rate in bytes per second for station 1stream15days'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 1stream15days
            - tag: webservice
              value: station
        - uuid: 0b3d32007bfe49c2ad1b4c39e6cf4962
          name: 'perfCheck Station - 9streams - Content Size Bytes'
          type: TRAP
          key: station.9streams.content_size_bytes
          delay: '0'
          history: 365d
          units: B
          description: 'Content size in bytes for station 9streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 9streams
            - tag: webservice
              value: station
        - uuid: 1f3681c05e834921ab987872b48a57b2
          name: 'perfCheck Station - 9streams - Response Time Ms'
          type: TRAP
          key: station.9streams.response_time_ms
          delay: '0'
          history: 365d
          value_type: FLOAT
          units: ms
          description: 'Response time in milliseconds for station 9streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 9streams
            - tag: webservice
              value: station
        - uuid: a4dd510a60d34f998e18d160c2d09a97
          name: 'perfCheck Station - 9streams - Status Code'
          type: TRAP
          key: station.9streams.status_code
          delay: '0'
          history: 365d
          value_type: TEXT
          trends: '0'
          description: 'HTTP status code for station 9streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 9streams
            - tag: webservice
              value: station
        - uuid: c2bedc1a63c74620868d9ace4c9cef98
          name: 'perfCheck Station - 9streams - Transfer Rate'
          type: TRAP
          key: station.9streams.transfer_rate
          delay: '0'
          history: 365d
          units: bytes/s
          description: 'Data transfer rate in bytes per second for station 9streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 9streams
            - tag: webservice
              value: station
        - uuid: 6521b56705ac4159842e73ab4b66bb27
          name: 'perfCheck Station - 54streams - Content Size Bytes'
          type: TRAP
          key: station.54streams.content_size_bytes
          delay: '0'
          history: 365d
          units: B
          description: 'Content size in bytes for station 54streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 54streams
            - tag: webservice
              value: station
        - uuid: d3642359101f4b9d94b645ef7e8fbc4b
          name: 'perfCheck Station - 54streams - Response Time Ms'
          type: TRAP
          key: station.54streams.response_time_ms
          delay: '0'
          history: 365d
          value_type: FLOAT
          units: ms
          description: 'Response time in milliseconds for station 54streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 54streams
            - tag: webservice
              value: station
        - uuid: 986e11d58e0e4571842ea125132fa721
          name: 'perfCheck Station - 54streams - Status Code'
          type: TRAP
          key: station.54streams.status_code
          delay: '0'
          history: 365d
          value_type: TEXT
          trends: '0'
          description: 'HTTP status code for station 54streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 54streams
            - tag: webservice
              value: station
        - uuid: a0e1c88981e049158613ac396d99b9ee
          name: 'perfCheck Station - 54streams - Transfer Rate'
          type: TRAP
          key: station.54streams.transfer_rate
          delay: '0'
          history: 365d
          units: bytes/s
          description: 'Data transfer rate in bytes per second for station 54streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 54streams
            - tag: webservice
              value: station
        - uuid: 14197a2cd0bc4109925f5355ccc651cb
          name: 'perfCheck Station - 320streams - Content Size Bytes'
          type: TRAP
          key: station.320streams.content_size_bytes
          delay: '0'
          history: 365d
          units: B
          description: 'Content size in bytes for station 320streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 320streams
            - tag: webservice
              value: station
        - uuid: f4ec577c215c419d8fe9a93c9f41b97d
          name: 'perfCheck Station - 320streams - Response Time Ms'
          type: TRAP
          key: station.320streams.response_time_ms
          delay: '0'
          history: 365d
          value_type: FLOAT
          units: ms
          description: 'Response time in milliseconds for station 320streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 320streams
            - tag: webservice
              value: station
        - uuid: 1932aec1c6554e74a1ba687f16f85b26
          name: 'perfCheck Station - 320streams - Status Code'
          type: TRAP
          key: station.320streams.status_code
          delay: '0'
          history: 365d
          value_type: TEXT
          trends: '0'
          description: 'HTTP status code for station 320streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 320streams
            - tag: webservice
              value: station
        - uuid: 9827f55ca6e44816aee105a4b59661bd
          name: 'perfCheck Station - 320streams - Transfer Rate'
          type: TRAP
          key: station.320streams.transfer_rate
          delay: '0'
          history: 365d
          units: bytes/s
          description: 'Data transfer rate in bytes per second for station 320streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 320streams
            - tag: webservice
              value: station
        - uuid: 62f9af19ef844e5ca7f87b6d4bfb2692
          name: 'perfCheck Wfcatalog - 1stream15days - Content Size Bytes'
          type: TRAP
          key: wfcatalog.1stream15days.content_size_bytes
          delay: '0'
          history: 365d
          units: B
          description: 'Content size in bytes for wfcatalog 1stream15days'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 1stream15days
            - tag: webservice
              value: wfcatalog
        - uuid: fcc57335ab79473194dc165678003203
          name: 'perfCheck Wfcatalog - 1stream15days - Response Time Ms'
          type: TRAP
          key: wfcatalog.1stream15days.response_time_ms
          delay: '0'
          history: 365d
          value_type: FLOAT
          units: ms
          description: 'Response time in milliseconds for wfcatalog 1stream15days'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 1stream15days
            - tag: webservice
              value: wfcatalog
        - uuid: e2a82c00606945599cfe622317381c6b
          name: 'perfCheck Wfcatalog - 1stream15days - Status Code'
          type: TRAP
          key: wfcatalog.1stream15days.status_code
          delay: '0'
          history: 365d
          value_type: TEXT
          trends: '0'
          description: 'HTTP status code for wfcatalog 1stream15days'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 1stream15days
            - tag: webservice
              value: wfcatalog
        - uuid: bc6cb63bb1ae40389e847f60a64d1bed
          name: 'perfCheck Wfcatalog - 1stream15days - Transfer Rate'
          type: TRAP
          key: wfcatalog.1stream15days.transfer_rate
          delay: '0'
          history: 365d
          units: bytes/s
          description: 'Data transfer rate in bytes per second for wfcatalog 1stream15days'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 1stream15days
            - tag: webservice
              value: wfcatalog
        - uuid: f2fd689566b74f319d2b0defe2faaffc
          name: 'perfCheck Wfcatalog - 9streams - Content Size Bytes'
          type: TRAP
          key: wfcatalog.9streams.content_size_bytes
          delay: '0'
          history: 365d
          units: B
          description: 'Content size in bytes for wfcatalog 9streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 9streams
            - tag: webservice
              value: wfcatalog
        - uuid: a92038f041f545f9bd17216c17949016
          name: 'perfCheck Wfcatalog - 9streams - Response Time Ms'
          type: TRAP
          key: wfcatalog.9streams.response_time_ms
          delay: '0'
          history: 30d
          value_type: FLOAT
          units: ms
          description: 'Response time in milliseconds for wfcatalog 9streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 9streams
            - tag: webservice
              value: wfcatalog
        - uuid: f0c9f2e041374354834829531acfc5c2
          name: 'perfCheck Wfcatalog - 9streams - Status Code'
          type: TRAP
          key: wfcatalog.9streams.status_code
          delay: '0'
          history: 30d
          value_type: TEXT
          trends: '0'
          description: 'HTTP status code for wfcatalog 9streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 9streams
            - tag: webservice
              value: wfcatalog
        - uuid: c1c85ca742a042eca30e9dc1916cf5e5
          name: 'perfCheck Wfcatalog - 9streams - Transfer Rate'
          type: TRAP
          key: wfcatalog.9streams.transfer_rate
          delay: '0'
          history: 30d
          units: bytes/s
          description: 'Data transfer rate in bytes per second for wfcatalog 9streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 9streams
            - tag: webservice
              value: wfcatalog
        - uuid: a893f3fb47bf44cba97c2122f1aefcc4
          name: 'perfCheck Wfcatalog - 54streams - Content Size Bytes'
          type: TRAP
          key: wfcatalog.54streams.content_size_bytes
          delay: '0'
          history: 30d
          units: B
          description: 'Content size in bytes for wfcatalog 54streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 54streams
            - tag: webservice
              value: wfcatalog
        - uuid: f7441e89da2d4555a8dd8a81599f337c
          name: 'perfCheck Wfcatalog - 54streams - Response Time Ms'
          type: TRAP
          key: wfcatalog.54streams.response_time_ms
          delay: '0'
          history: 30d
          value_type: FLOAT
          units: ms
          description: 'Response time in milliseconds for wfcatalog 54streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 54streams
            - tag: webservice
              value: wfcatalog
        - uuid: 0fa5285f61c0432cad2366ee7cdcbcba
          name: 'perfCheck Wfcatalog - 54streams - Status Code'
          type: TRAP
          key: wfcatalog.54streams.status_code
          delay: '0'
          history: 30d
          value_type: TEXT
          trends: '0'
          description: 'HTTP status code for wfcatalog 54streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 54streams
            - tag: webservice
              value: wfcatalog
        - uuid: 56008c286a964162877d7d205841e17a
          name: 'perfCheck Wfcatalog - 54streams - Transfer Rate'
          type: TRAP
          key: wfcatalog.54streams.transfer_rate
          delay: '0'
          history: 30d
          units: bytes/s
          description: 'Data transfer rate in bytes per second for wfcatalog 54streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 54streams
            - tag: webservice
              value: wfcatalog
        - uuid: 678d06372db34f1f849af69d29dfe3c7
          name: 'perfCheck Wfcatalog - 320streams - Content Size Bytes'
          type: TRAP
          key: wfcatalog.320streams.content_size_bytes
          delay: '0'
          history: 30d
          units: B
          description: 'Content size in bytes for wfcatalog 320streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 320streams
            - tag: webservice
              value: wfcatalog
        - uuid: 2ed48342176a4c91beed821331906cff
          name: 'perfCheck Wfcatalog - 320streams - Response Time Ms'
          type: TRAP
          key: wfcatalog.320streams.response_time_ms
          delay: '0'
          history: 30d
          value_type: FLOAT
          units: ms
          description: 'Response time in milliseconds for wfcatalog 320streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 320streams
            - tag: webservice
              value: wfcatalog
        - uuid: 86e9731143854e56a65caad9f5f54b58
          name: 'perfCheck Wfcatalog - 320streams - Status Code'
          type: TRAP
          key: wfcatalog.320streams.status_code
          delay: '0'
          history: 30d
          value_type: TEXT
          trends: '0'
          description: 'HTTP status code for wfcatalog 320streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 320streams
            - tag: webservice
              value: wfcatalog
        - uuid: ea2b197c19ee497eaebfd58b30c53e4b
          name: 'perfCheck Wfcatalog - 320streams - Transfer Rate'
          type: TRAP
          key: wfcatalog.320streams.transfer_rate
          delay: '0'
          history: 30d
          units: bytes/s
          description: 'Data transfer rate in bytes per second for wfcatalog 320streams'
          tags:
            - tag: perfcheck
            - tag: scenario
              value: 320streams
            - tag: webservice
              value: wfcatalog
      httptests:
        - uuid: fdf418ac33cf4374bd854cfef45d8604
          name: 'PC availability'
          delay: 12h
          status: DISABLED
          steps:
            - name: '9 streams'
              url: 'https://{$ENDPOINT}/fdsnws/availability/1/query'
              query_fields:
                - name: channel
                  value: '{$PERFCHECK_AVAILABILITY_9STREAMS_CHA}'
                - name: endtime
                  value: '{$PERFCHECK_AVAILABILITY_9STREAMS_END}'
                - name: location
                  value: '{$PERFCHECK_AVAILABILITY_9STREAMS_LOC}'
                - name: network
                  value: '{$PERFCHECK_AVAILABILITY_9STREAMS_NET}'
                - name: station
                  value: '{$PERFCHECK_AVAILABILITY_9STREAMS_STA}'
                - name: starttime
                  value: '{$PERFCHECK_AVAILABILITY_9STREAMS_START}'
              follow_redirects: 'NO'
              timeout: 1000s
              status_codes: '200'
            - name: '54 streams'
              url: 'https://{$ENDPOINT}/fdsnws/availability/1/query'
              query_fields:
                - name: channel
                  value: '{$PERFCHECK_AVAILABILITY_54STREAMS_CHA}'
                - name: endtime
                  value: '{$PERFCHECK_AVAILABILITY_54STREAMS_END}'
                - name: location
                  value: '{$PERFCHECK_AVAILABILITY_54STREAMS_LOC}'
                - name: network
                  value: '{$PERFCHECK_AVAILABILITY_54STREAMS_NET}'
                - name: station
                  value: '{$PERFCHECK_AVAILABILITY_54STREAMS_STA}'
                - name: starttime
                  value: '{$PERFCHECK_AVAILABILITY_54STREAMS_START}'
              follow_redirects: 'NO'
              timeout: 1000s
              status_codes: '200'
            - name: '320 streams'
              url: 'https://{$ENDPOINT}/fdsnws/availability/1/query'
              query_fields:
                - name: channel
                  value: '{$PERFCHECK_AVAILABILITY_320STREAMS_CHA}'
                - name: endtime
                  value: '{$PERFCHECK_AVAILABILITY_320STREAMS_END}'
                - name: location
                  value: '{$PERFCHECK_AVAILABILITY_320STREAMS_LOC}'
                - name: network
                  value: '{$PERFCHECK_AVAILABILITY_320STREAMS_NET}'
                - name: station
                  value: '{$PERFCHECK_AVAILABILITY_320STREAMS_STA}'
                - name: starttime
                  value: '{$PERFCHECK_AVAILABILITY_320STREAMS_START}'
              follow_redirects: 'NO'
              timeout: 1000s
              status_codes: '200'
            - name: '1 stream 15 days'
              url: 'https://{$ENDPOINT}/fdsnws/availability/1/query'
              query_fields:
                - name: channel
                  value: '{$PERFCHECK_AVAILABILITY_1STREAM15DAYS_CHA}'
                - name: endtime
                  value: '{$PERFCHECK_AVAILABILITY_1STREAM15DAYS_END}'
                - name: location
                  value: '{$PERFCHECK_AVAILABILITY_1STREAM15DAYS_LOC}'
                - name: network
                  value: '{$PERFCHECK_AVAILABILITY_1STREAM15DAYS_NET}'
                - name: station
                  value: '{$PERFCHECK_AVAILABILITY_1STREAM15DAYS_STA}'
                - name: starttime
                  value: '{$PERFCHECK_AVAILABILITY_1STREAM15DAYS_START}'
              follow_redirects: 'NO'
              timeout: 1000s
              status_codes: '200'
          tags:
            - tag: PC
              value: availability
        - uuid: c42e22b93ab74d2e9a8b4e1291d073d6
          name: 'PC dataselect'
          delay: 12h
          status: DISABLED
          steps:
            - name: '9 streams'
              url: 'https://{$ENDPOINT}/fdsnws/dataselect/1/query'
              query_fields:
                - name: network
                  value: '{$PERFCHECK_DATASELECT_9STREAMS_NET}'
                - name: station
                  value: '{$PERFCHECK_DATASELECT_9STREAMS_STA}'
                - name: channel
                  value: '{$PERFCHECK_DATASELECT_9STREAMS_CHA}'
                - name: starttime
                  value: '{$PERFCHECK_DATASELECT_9STREAMS_START}'
                - name: endtime
                  value: '{$PERFCHECK_DATASELECT_9STREAMS_END}'
                - name: location
                  value: '{$PERFCHECK_DATASELECT_9STREAMS_LOC}'
              follow_redirects: 'NO'
              timeout: 1000s
              status_codes: '200'
            - name: '54 streams'
              url: 'https://{$ENDPOINT}/fdsnws/dataselect/1/query'
              query_fields:
                - name: channel
                  value: '{$PERFCHECK_DATASELECT_54STREAMS_CHA}'
                - name: endtime
                  value: '{$PERFCHECK_DATASELECT_54STREAMS_END}'
                - name: location
                  value: '{$PERFCHECK_DATASELECT_54STREAMS_LOC}'
                - name: network
                  value: '{$PERFCHECK_DATASELECT_54STREAMS_NET}'
                - name: station
                  value: '{$PERFCHECK_DATASELECT_54STREAMS_STA}'
                - name: starttime
                  value: '{$PERFCHECK_DATASELECT_54STREAMS_START}'
              follow_redirects: 'NO'
              timeout: 1000s
              status_codes: '200'
            - name: '320 streams'
              url: 'https://{$ENDPOINT}/fdsnws/dataselect/1/query'
              query_fields:
                - name: channel
                  value: '{$PERFCHECK_DATASELECT_320STREAMS_CHA}'
                - name: endtime
                  value: '{$PERFCHECK_DATASELECT_320STREAMS_END}'
                - name: location
                  value: '{$PERFCHECK_DATASELECT_320STREAMS_LOC}'
                - name: network
                  value: '{$PERFCHECK_DATASELECT_320STREAMS_NET}'
                - name: station
                  value: '{$PERFCHECK_DATASELECT_320STREAMS_STA}'
                - name: starttime
                  value: '{$PERFCHECK_DATASELECT_320STREAMS_START}'
              follow_redirects: 'NO'
              timeout: 1000s
              status_codes: '200'
            - name: '1 stream 15 days'
              url: 'https://{$ENDPOINT}/fdsnws/dataselect/1/query'
              query_fields:
                - name: channel
                  value: '{$PERFCHECK_DATASELECT_1STREAM15DAYS_CHA}'
                - name: endtime
                  value: '{$PERFCHECK_DATASELECT_1STREAM15DAYS_END}'
                - name: location
                  value: '{$PERFCHECK_DATASELECT_1STREAM15DAYS_LOC}'
                - name: network
                  value: '{$PERFCHECK_DATASELECT_1STREAM15DAYS_NET}'
                - name: station
                  value: '{$PERFCHECK_DATASELECT_1STREAM15DAYS_STA}'
                - name: starttime
                  value: '{$PERFCHECK_DATASELECT_1STREAM15DAYS_START}'
              follow_redirects: 'NO'
              timeout: 1000s
              status_codes: '200'
          tags:
            - tag: PC
              value: dataselect
        - uuid: 46869c73a2a742b5907a2b42ea7dab08
          name: 'PC station'
          delay: 12h
          status: DISABLED
          steps:
            - name: '9 streams'
              url: 'https://{$ENDPOINT}/fdsnws/station/1/query'
              query_fields:
                - name: channel
                  value: '{$PERFCHECK_STATION_9STREAMS_CHA}'
                - name: endtime
                  value: '{$PERFCHECK_STATION_9STREAMS_END}'
                - name: location
                  value: '{$PERFCHECK_STATION_9STREAMS_LOC}'
                - name: network
                  value: '{$PERFCHECK_STATION_9STREAMS_NET}'
                - name: station
                  value: '{$PERFCHECK_STATION_9STREAMS_STA}'
                - name: starttime
                  value: '{$PERFCHECK_STATION_9STREAMS_START}'
              follow_redirects: 'NO'
              timeout: 1000s
              status_codes: '200'
            - name: '54 streams'
              url: 'https://{$ENDPOINT}/fdsnws/station/1/query'
              query_fields:
                - name: channel
                  value: '{$PERFCHECK_STATION_54STREAMS_CHA}'
                - name: endtime
                  value: '{$PERFCHECK_STATION_54STREAMS_END}'
                - name: location
                  value: '{$PERFCHECK_STATION_54STREAMS_LOC}'
                - name: network
                  value: '{$PERFCHECK_STATION_54STREAMS_NET}'
                - name: station
                  value: '{$PERFCHECK_STATION_54STREAMS_STA}'
                - name: starttime
                  value: '{$PERFCHECK_STATION_54STREAMS_START}'
              follow_redirects: 'NO'
              timeout: 1000s
              status_codes: '200'
            - name: '320 streams'
              url: 'https://{$ENDPOINT}/fdsnws/station/1/query'
              query_fields:
                - name: channel
                  value: '{$PERFCHECK_STATION_320STREAMS_CHA}'
                - name: endtime
                  value: '{$PERFCHECK_STATION_320STREAMS_END}'
                - name: location
                  value: '{$PERFCHECK_STATION_320STREAMS_LOC}'
                - name: network
                  value: '{$PERFCHECK_STATION_320STREAMS_NET}'
                - name: station
                  value: '{$PERFCHECK_STATION_320STREAMS_STA}'
                - name: starttime
                  value: '{$PERFCHECK_STATION_320STREAMS_START}'
              follow_redirects: 'NO'
              timeout: 1000s
              status_codes: '200'
          tags:
            - tag: PC
              value: station
        - uuid: 4f175da47a63486b98f440cc295aacb4
          name: 'PC wfcatalog'
          delay: 12h
          status: DISABLED
          steps:
            - name: '9 streams'
              url: 'https://{$ENDPOINT}/eidaws/wfcatalog/1/query'
              follow_redirects: 'NO'
              timeout: 1000s
              status_codes: '200'
            - name: '54 streams'
              url: 'https://{$ENDPOINT}/eidaws/wfcatalog/1/query'
              query_fields:
                - name: channel
                  value: '{$PERFCHECK_WFCATALOG_54STREAMS_CHA}'
                - name: endtime
                  value: '{$PERFCHECK_WFCATALOG_54STREAMS_END}'
                - name: location
                  value: '{$PERFCHECK_WFCATALOG_54STREAMS_LOC}'
                - name: network
                  value: '{$PERFCHECK_WFCATALOG_54STREAMS_NET}'
                - name: station
                  value: '{$PERFCHECK_WFCATALOG_54STREAMS_STA}'
                - name: starttime
                  value: '{$PERFCHECK_WFCATALOG_54STREAMS_START}'
              follow_redirects: 'NO'
              timeout: 1000s
              status_codes: '200'
            - name: '320 streams'
              url: 'https://{$ENDPOINT}/eidaws/wfcatalog/1/query'
              query_fields:
                - name: channel
                  value: '{$PERFCHECK_WFCATALOG_320STREAMS_CHA}'
                - name: endtime
                  value: '{$PERFCHECK_WFCATALOG_320STREAMS_END}'
                - name: location
                  value: '{$PERFCHECK_WFCATALOG_320STREAMS_LOC}'
                - name: network
                  value: '{$PERFCHECK_WFCATALOG_320STREAMS_NET}'
                - name: station
                  value: '{$PERFCHECK_WFCATALOG_320STREAMS_STA}'
                - name: starttime
                  value: '{$PERFCHECK_WFCATALOG_320STREAMS_START}'
              follow_redirects: 'NO'
              timeout: 1000s
              status_codes: '200'
            - name: '1 stream 15 days'
              url: 'https://{$ENDPOINT}/eidaws/wfcatalog/1/query'
              query_fields:
                - name: channel
                  value: '{$PERFCHECK_WFCATALOG_1STREAM15DAYS_CHA}'
                - name: endtime
                  value: '{$PERFCHECK_WFCATALOG_1STREAM15DAYS_END}'
                - name: location
                  value: '{$PERFCHECK_WFCATALOG_1STREAM15DAYS_LOC}'
                - name: network
                  value: '{$PERFCHECK_WFCATALOG_1STREAM15DAYS_NET}'
                - name: station
                  value: '{$PERFCHECK_WFCATALOG_1STREAM15DAYS_STA}'
                - name: starttime
                  value: '{$PERFCHECK_WFCATALOG_1STREAM15DAYS_START}'
              follow_redirects: 'NO'
              timeout: 1000s
              status_codes: '200'
          tags:
            - tag: PC
              value: wfcatalog
    - uuid: bd7e234e9843428694e3a69342571091
      template: 'Template routing service'
      name: 'Template routing service'
      description: |
        Test the presence of information from node at the central routing service.
        Apply this template to all EIDA Nodes
      groups:
        - name: Templates/EIDA
      items:
        - uuid: 801dc7c5ae3e446f91f9babff21c90a4
          name: 'Routing central global config'
          type: HTTP_AGENT
          key: routing.central
          delay: 1d
          value_type: TEXT
          trends: '0'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.datacenters[?(@.name==''{$NODE}'')].name'
              error_handler: CUSTOM_VALUE
              error_handler_params: ERROR
          timeout: 30s
          url: 'https://www.orfeus-eu.org/eidaws/routing/1/globalconfig'
          query_fields:
            - name: format
              value: fdsn
          headers:
            - name: Accept
              value: application/json
            - name: Content-Type
              value: application/json
            - name: User-Agent
              value: oculus-monitor
          tags:
            - tag: format
              value: json
            - tag: routing
              value: central
          triggers:
            - uuid: 5a0bf9b2fcbc437eb399f0683dcfb95e
              expression: 'last(/Template routing service/routing.central)="ERROR"'
              name: '{$NODE} disapeared from EIDA central routing service'
              priority: WARNING
              description: |
                The node is not present in EIDA central routing here:
                https://www.orfeus-eu.org/eidaws/routing/1/globalconfig?format=fdsn
              manual_close: 'YES'
        - uuid: ec644c6f926642f8b2d76db892f33316
          name: 'Routing central count datasets'
          type: HTTP_AGENT
          key: routing.central_datasets
          delay: 1d
          value_type: TEXT
          trends: '0'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.datacenters[?(@.name == ''{$NODE}'')].repositories[?(@.name == ''archive'')].datasets.first().length()'
              error_handler: CUSTOM_VALUE
              error_handler_params: '0'
          timeout: 1m
          url: 'https://www.orfeus-eu.org/eidaws/routing/1/globalconfig'
          query_fields:
            - name: format
              value: fdsn
          headers:
            - name: Accept
              value: application/json
            - name: Content-Type
              value: application/json
            - name: User-Agent
              value: oculus-monitor
          tags:
            - tag: datasets
            - tag: format
              value: json
            - tag: routing
              value: central
          triggers:
            - uuid: 535e10a824c849a8a4e6ae79c0066730
              expression: 'change(/Template routing service/routing.central_datasets)<0'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'change(/Template routing service/routing.central_datasets)>0'
              name: 'EIDA central routing service lost at least one network for node {$NODE}'
              priority: AVERAGE
              description: |
                Central routing system advertises less networks than before (now : {ITEM.LASTVALUE}
                check the full information : https://www.orfeus-eu.org/eidaws/routing/1/globalconfig?format=fdsn
              manual_close: 'YES'
        - uuid: 856a7898776a49afa4355aac03465147
          name: 'Routing central information'
          type: HTTP_AGENT
          key: routing.central_station
          delay: 2h
          value_type: TEXT
          trends: '0'
          timeout: 15s
          url: 'https://www.orfeus-eu.org/eidaws/routing/1/query'
          query_fields:
            - name: service
              value: station
            - name: network
              value: '{$ONLINECHECK_NET}'
          headers:
            - name: User-Agent
              value: oculus-monior
          tags:
            - tag: format
              value: xml
            - tag: routing
              value: central
          triggers:
            - uuid: e2ca8a12a83a436b89c23515bddb571c
              expression: 'nodata(/Template routing service/routing.central_station,125m)=1'
              name: 'Network code {$ONLINECHECK_NET} missing in central routing for webservice station'
              priority: WARNING
              description: 'test request: https://www.orfeus-eu.org/eidaws/routing/1/query?service=station&network={$ONLINECHECK_NET}'
              manual_close: 'YES'
      tags:
        - tag: Application
          value: routing_service
    - uuid: 33db8cd5ca5149a6925642eed4624f60
      template: 'Template static routing'
      name: 'Template static routing'
      description: |
        Test the static routing information published by a node.
        Apply to all EIDA Nodes except if they host the routing service
      groups:
        - name: Templates/EIDA
      items:
        - uuid: e863b48c5fa64581849a9c6d4068723d
          name: 'FDSN datacenter registry published at node'
          type: HTTP_AGENT
          key: fdsn_dc_registry.json
          delay: 2h
          value_type: TEXT
          trends: '0'
          timeout: 15s
          url: 'https://{$ENDPOINT}/{$FDSNROUTINGFILE}'
          headers:
            - name: User-Agent
              value: oculus-monior
          tags:
            - tag: format
              value: json
            - tag: routing
              value: local
          triggers:
            - uuid: fb168f56c305464c84823e866873ac27
              expression: 'nodata(/Template static routing/fdsn_dc_registry.json,125m)=1'
              name: 'Local datacenter registry information not published'
              priority: WARNING
              description: 'Unable to parse json data at https://{$ENDPOINT}/{$FDSNROUTINGFILE}'
        - uuid: f207d11cc9b74a15837be7ea861c9f88
          name: 'Routing information published at node'
          type: HTTP_AGENT
          key: routing.local
          delay: 2h
          value_type: TEXT
          trends: '0'
          preprocessing:
            - type: XMLPATH
              parameters:
                - '//*[local-name()=''route''][@networkCode=''{$ONLINECHECK_NET}'']'
          timeout: 15s
          url: 'https://{$ENDPOINT}/{$EIDAROUTINGFILE}'
          headers:
            - name: User-Agent
              value: oculus-monior
          tags:
            - tag: format
              value: xml
            - tag: routing
              value: local
          triggers:
            - uuid: 03e7a243b7844fce896fc3201be12ea7
              expression: 'nodata(/Template static routing/routing.local,125m)=1'
              name: 'Local routing information not published'
              priority: WARNING
              description: 'Unable to find {$ONLINECHECK_NET} at https://{$ENDPOINT}/{$ROUTINGFILE}'
              manual_close: 'YES'
      tags:
        - tag: Application
          value: static_routing
    - uuid: 05b270f27a7b478d80bc89467b1037a5
      template: 'Template statistics'
      name: 'Template statistics'
      groups:
        - name: Templates/EIDA
      items:
        - uuid: 7a92895757fe4d0590a20c3b535bf16f
          name: 'bytes dataselect'
          type: HTTP_AGENT
          key: bytes_dataselect.stats
          delay: 1d
          history: 365d
          trends: '0'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.results[0].bytes'
          timeout: 10s
          url: 'https://ws.resif.fr/eidaws/statistics/1/dataselect/public'
          query_fields:
            - name: start
              value: '{$START_MONTH}'
            - name: node
              value: '{$NODE}'
            - name: network
              value: '{$ONLINECHECK_NET}'
            - name: level
              value: node
            - name: format
              value: json
          headers:
            - name: User-Agent
              value: oculus-monitor
          tags:
            - tag: bytes
            - tag: statistics
              value: dataselect
          triggers:
            - uuid: 4c8e3eb74eae40d2ac319bc11403ed73
              expression: 'last(/Template statistics/bytes_dataselect.stats)=last(/Template statistics/bytes_dataselect.stats,#1:now-7d)'
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'last(/Template statistics/bytes_dataselect.stats)<>last(/Template statistics/bytes_dataselect.stats,#1:now-7d)'
              name: 'No new data usages statistics in central service'
              priority: WARNING
              description: |
                Number of bytes delivered is not increase in 7days.
                Check that our aggregator script is running and sending the statistics.
                URL: https://ws.resif.fr/eidaws/statistics/1/dataselect/public?start=2025-12&node={$NODE}&network={$ONLINECHECK_NET}&level=node&format=json
              manual_close: 'YES'
        - uuid: 1505252ffad64ca898e73024419f4436
          name: 'clients dataselect'
          type: HTTP_AGENT
          key: clients_dataselect.stats
          delay: 1d
          history: 365d
          trends: '0'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.results[0].clients'
          timeout: 10s
          url: 'https://ws.resif.fr/eidaws/statistics/1/dataselect/public'
          query_fields:
            - name: start
              value: '{$START_MONTH}'
            - name: node
              value: '{$NODE}'
            - name: network
              value: '{$ONLINECHECK_NET}'
            - name: level
              value: node
            - name: format
              value: json
          headers:
            - name: User-Agent
              value: oculus-monitor
          tags:
            - tag: clients
            - tag: statistics
              value: dataselect
        - uuid: 0f129ee525e24016a1f929f7623d07c3
          name: 'reqs dataselect'
          type: HTTP_AGENT
          key: reqs_dataselect.stats
          delay: 1d
          history: 365d
          trends: '0'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.results[0].nb_reqs'
          timeout: 10s
          url: 'https://ws.resif.fr/eidaws/statistics/1/dataselect/public'
          query_fields:
            - name: start
              value: '{$START_MONTH}'
            - name: node
              value: '{$NODE}'
            - name: network
              value: '{$ONLINECHECK_NET}'
            - name: level
              value: node
            - name: format
              value: json
          headers:
            - name: User-Agent
              value: oculus-monitor
          tags:
            - tag: nb_reqs
            - tag: statistics
              value: dataselect
        - uuid: 1651297d64c94561b4fd4fa289b03cc0
          name: 'reqs sucessful dataselect'
          type: HTTP_AGENT
          key: success_reqs_dataselect.stats
          delay: 1d
          history: 365d
          trends: '0'
          preprocessing:
            - type: JSONPATH
              parameters:
                - '$.results[0].nb_successful_reqs'
          timeout: 10s
          url: 'https://ws.resif.fr/eidaws/statistics/1/dataselect/public'
          query_fields:
            - name: start
              value: '{$START_MONTH}'
            - name: node
              value: '{$NODE}'
            - name: network
              value: '{$ONLINECHECK_NET}'
            - name: level
              value: node
            - name: format
              value: json
          headers:
            - name: User-Agent
              value: oculus-monitor
          tags:
            - tag: nb_successful_reqs
            - tag: statistics
              value: dataselect
      macros:
        - macro: '{$START_MONTH}'
          value: 2026-02
    - uuid: b192614a2cbc490eb3ca047e9eb36328
      template: 'Template webservices'
      name: 'Template webservices'
      groups:
        - name: Templates/EIDA
      items:
        - uuid: e38a49ab9c0e442c9ea3a47f8869aaee
          name: 'CORS availability {$NODE}'
          type: HTTP_AGENT
          key: cors.check.availability
          delay: 1d
          value_type: TEXT
          trends: '0'
          url: 'https://{$ENDPOINT}/fdsnws/availability/1/'
          status_codes: ''
          headers:
            - name: Origin
              value: orfeus-eu.org
            - name: User-agent
              value: oculus-monitor
          retrieve_mode: HEADERS
          request_method: HEAD
          tags:
            - tag: cors
            - tag: webservice
              value: availability
          triggers:
            - uuid: bc841ec4091a415c857b2b8e92b1c31e
              expression: 'find(/Template webservices/cors.check.availability,,"iregexp","Access-Control-Allow-Origin:\\s\\*")=0'
              name: 'CORS availability'
              event_name: '{$NODE}: CORS not present for webservice availability'
              priority: WARNING
              description: |
                test request: https://{$ENDPOINT}/fdsnws/availability/1/
                Headers: Origin: orfeus-eu.org
                User-agent: oculus-monitor
              manual_close: 'YES'
              tags:
                - tag: webservice
                  value: availability
        - uuid: b0264525152c454eb7bf9f22c51c20c0
          name: 'CORS dataselect {$NODE}'
          type: HTTP_AGENT
          key: cors.check.dataselect
          delay: 1d
          value_type: TEXT
          trends: '0'
          url: 'https://{$ENDPOINT}/fdsnws/dataselect/1/'
          status_codes: ''
          headers:
            - name: Origin
              value: orfeus-eu.org
            - name: User-agent
              value: oculus-monitor
          retrieve_mode: HEADERS
          request_method: HEAD
          tags:
            - tag: cors
            - tag: webservice
              value: dataselect
          triggers:
            - uuid: 2d5416dfc6c3456f892ce7fb2071e0d9
              expression: 'find(/Template webservices/cors.check.dataselect,,"iregexp","Access-Control-Allow-Origin:\\s\\*")=0'
              name: 'CORS dataselect'
              event_name: '{$NODE}: CORS not present for webservice dataselect'
              priority: WARNING
              description: |
                test request: https://{$ENDPOINT}/fdsnws/dataselect/1/
                Headers: Origin: orfeus-eu.org
                User-agent: oculus-monitor
              manual_close: 'YES'
              tags:
                - tag: webservice
                  value: dataselect
        - uuid: 502d846dbd514c108ff43ebfd7e5f1ca
          name: 'CORS station {$NODE}'
          type: HTTP_AGENT
          key: cors.check.station
          delay: 1d
          value_type: TEXT
          trends: '0'
          url: 'https://{$ENDPOINT}/fdsnws/station/1/'
          status_codes: ''
          headers:
            - name: Origin
              value: orfeus-eu.org
            - name: User-agent
              value: oculus-monitor
          retrieve_mode: HEADERS
          request_method: HEAD
          tags:
            - tag: cors
            - tag: webservice
              value: station
          triggers:
            - uuid: 0aecaee4a32147b189c030c92ceba6a3
              expression: 'find(/Template webservices/cors.check.station,,"iregexp","Access-Control-Allow-Origin:\\s\\*")=0'
              name: 'CORS station'
              event_name: '{$NODE}: CORS not present for webservice station'
              priority: WARNING
              description: |
                test request: https://{$ENDPOINT}/fdsnws/station/1/
                Headers: Origin: orfeus-eu.org
                User-agent: oculus-monitor
              manual_close: 'YES'
              tags:
                - tag: webservice
                  value: station
        - uuid: 6f33614a8fec40a99e366ff9e4c56cce
          name: 'CORS wfcatalog {$NODE}'
          type: HTTP_AGENT
          key: cors.check.wfcatalog
          delay: 1d
          value_type: TEXT
          trends: '0'
          url: 'https://{$ENDPOINT}/eidaws/wfcatalog/1/'
          status_codes: ''
          headers:
            - name: Origin
              value: orfeus-eu.org
            - name: User-agent
              value: oculus-monitor
          retrieve_mode: HEADERS
          request_method: HEAD
          tags:
            - tag: cors
            - tag: webservice
              value: wfcatalog
          triggers:
            - uuid: 900f8b60f8c841ea8adfc5f8757a1fc4
              expression: 'find(/Template webservices/cors.check.wfcatalog,,"iregexp","Access-Control-Allow-Origin:\\s\\*")=0'
              name: 'CORS wfcatalog'
              event_name: '{$NODE}: CORS not present for webservice wfcatalog'
              priority: WARNING
              description: |
                test request: https://{$ENDPOINT}/eidaws/wfcatalog/1/
                Headers: Origin: orfeus-eu.org
                User-agent: oculus-monitor
              manual_close: 'YES'
              tags:
                - tag: webservice
                  value: wfcatalog
      httptests:
        - uuid: 32b3e3d018b2423c899d92878cbe3567
          name: availability
          delay: 15m
          headers:
            - name: User-agent
              value: oculus-monitor
          steps:
            - name: 'availability accessible'
              url: 'https://{$ENDPOINT}/fdsnws/availability/1/'
              follow_redirects: 'NO'
              retrieve_mode: HEADERS
              status_codes: '200'
            - name: 'availability short request'
              url: 'https://{$ENDPOINT}/fdsnws/availability/1/'
              query_fields:
                - name: net
                  value: '{$ONLINECHECK_NET}'
                - name: sta
                  value: '{$ONLINECHECK_STA}'
                - name: loc
                  value: '{$ONLINECHECK_LOC}'
                - name: cha
                  value: '{$ONLINECHECK_CHA}'
                - name: start
                  value: '{$ONLINECHECK_START}'
                - name: end
                  value: '{$ONLINECHECK_END}'
              retrieve_mode: HEADERS
              status_codes: '200'
            - name: 'availability application.wadl'
              url: 'https://{$ENDPOINT}/fdsnws/availability/1/application.wadl'
              follow_redirects: 'NO'
              required: '<application'
              status_codes: '200'
          tags:
            - tag: webservice
              value: availability
        - uuid: dfcb1e93f5c9489598c189e82f523833
          name: dataselect
          delay: 15m
          headers:
            - name: User-agent
              value: oculus-monitor
          steps:
            - name: 'dataselect accessible'
              url: 'https://{$ENDPOINT}/fdsnws/dataselect/1/'
              retrieve_mode: HEADERS
              status_codes: '200'
            - name: 'dataselect short request'
              url: 'https://{$ENDPOINT}/fdsnws/dataselect/1/query'
              query_fields:
                - name: net
                  value: '{$ONLINECHECK_NET}'
                - name: sta
                  value: '{$ONLINECHECK_STA}'
                - name: cha
                  value: '{$ONLINECHECK_CHA}'
                - name: loc
                  value: '{$ONLINECHECK_LOC}'
                - name: start
                  value: '{$ONLINECHECK_START}'
                - name: end
                  value: '{$ONLINECHECK_END}'
              retrieve_mode: HEADERS
              status_codes: '200'
            - name: 'dataselect application.wadl'
              url: 'https://{$ENDPOINT}/fdsnws/dataselect/1/application.wadl'
              follow_redirects: 'NO'
              required: '<application'
              status_codes: '200'
          tags:
            - tag: webservice
              value: dataselect
        - uuid: b48a6247f35c4a65860de1b4f4633c17
          name: seedpsd
          delay: 15m
          steps:
            - name: 'seedpsd accessible'
              url: 'https://{$ENDPOINT}/eidaws/psd/1/'
              retrieve_mode: HEADERS
              status_codes: '200'
            - name: 'seedpsd short request'
              url: 'https://{$ENDPOINT}/eidaws/psd/1/value'
              query_fields:
                - name: net
                  value: '{$ONLINECHECK_NET}'
                - name: sta
                  value: '{$ONLINECHECK_STA}'
                - name: cha
                  value: '{$ONLINECHECK_CHA}'
                - name: loc
                  value: '{$ONLINECHECK_LOC}'
                - name: start
                  value: '{$ONLINECHECK_START}'
                - name: end
                  value: '{$ONLINECHECK_END}'
              retrieve_mode: HEADERS
              status_codes: '200'
            - name: 'seedpsd application.wadl'
              url: 'https://{$ENDPOINT}/eidaws/psd/1/application.wadl'
              follow_redirects: 'NO'
              required: '<application'
              status_codes: '200'
          tags:
            - tag: webservice
              value: seedpsd
        - uuid: 81e6f10b63214e2cba9dbe5fabd2626e
          name: station
          delay: 15m
          headers:
            - name: User-agent
              value: oculus-monitor
          steps:
            - name: 'station accessible'
              url: 'https://{$ENDPOINT}/fdsnws/station/1/'
              follow_redirects: 'NO'
              retrieve_mode: HEADERS
              status_codes: '200'
            - name: 'station short request'
              url: 'https://{$ENDPOINT}/fdsnws/station/1/query'
              query_fields:
                - name: net
                  value: '{$ONLINECHECK_NET}'
                - name: sta
                  value: '{$ONLINECHECK_STA}'
                - name: loc
                  value: '{$ONLINECHECK_LOC}'
                - name: cha
                  value: '{$ONLINECHECK_CHA}'
                - name: level
                  value: response
              retrieve_mode: HEADERS
              status_codes: '200'
            - name: 'station application.wadl'
              url: 'https://{$ENDPOINT}/fdsnws/station/1/application.wadl'
              follow_redirects: 'NO'
              required: '<application'
              status_codes: '200'
          tags:
            - tag: webservice
              value: station
        - uuid: a5d4964d6ad84e44829dbb8dddef25cc
          name: wfcatalog
          delay: 15m
          headers:
            - name: User-agent
              value: oculus-monitor
          steps:
            - name: 'wfcatalog accessible'
              url: 'https://{$ENDPOINT}/eidaws/wfcatalog/1/'
              follow_redirects: 'NO'
              retrieve_mode: HEADERS
              status_codes: '200'
            - name: 'wfcatalog short request'
              url: 'https://{$ENDPOINT}/eidaws/wfcatalog/1/query'
              query_fields:
                - name: net
                  value: '{$ONLINECHECK_NET}'
                - name: sta
                  value: '{$ONLINECHECK_STA}'
                - name: loc
                  value: '{$ONLINECHECK_LOC}'
                - name: cha
                  value: '{$ONLINECHECK_CHA}'
                - name: start
                  value: '{$ONLINECHECK_START}'
                - name: end
                  value: '{$ONLINECHECK_END}'
              retrieve_mode: HEADERS
              status_codes: '200'
            - name: 'wfcatalog application.wadl'
              url: 'https://{$ENDPOINT}/eidaws/wfcatalog/1/application.wadl'
              follow_redirects: 'NO'
              required: '<application'
              status_codes: '200'
          tags:
            - tag: webservice
              value: wfcatalog
      macros:
        - macro: '{$EIDA_WS_ENDPOINT}'
          value: '{#EIDA_WS_ENDPOINT}'
          description: 'EIDA node endpoint'
  triggers:
    - uuid: 570403a76d444c6983c35d8afd22f776
      expression: 'last(/Template webservices/web.test.rspcode[availability,availability application.wadl])<>200'
      name: 'availability application.wadl'
      event_name: 'Availability application.wadl not found, return code {ITEM.VALUE}'
      priority: AVERAGE
      description: 'test request: https://{$ENDPOINT}/fdsnws/availability/1/application.wadl'
      manual_close: 'YES'
      tags:
        - tag: webservice
          value: availability
    - uuid: 9ac0a5b01d6b4cbbb58d89eaac70a86b
      expression: 'last(/Template webservices/web.test.rspcode[availability,availability accessible])<>200'
      name: 'availability not accessible'
      event_name: 'Availability is not accessible, return code {ITEM.VALUE}'
      priority: AVERAGE
      description: 'test request: https://{$ENDPOINT}/fdsnws/availability/1/'
      manual_close: 'YES'
      tags:
        - tag: webservice
          value: availability
    - uuid: 5260891522f14c21a4f2361486453f4b
      expression: 'last(/Template webservices/web.test.rspcode[availability,availability short request])<>200'
      name: 'availability short request'
      event_name: 'Availability short request failed, return code {ITEM.VALUE}'
      priority: AVERAGE
      description: 'test request: https://{$ENDPOINT}/fdsnws/availability/1/net={$ONLINECHECK_NET}&sta={$ONLINECHECK_STA}&loc={$ONLINECHECK_LOC}&cha={$ONLINECHECK_CHA}&start={$ONLINECHECK_START}&end={$ONLINECHECK_END}'
      manual_close: 'YES'
      tags:
        - tag: webservice
          value: availability
    - uuid: a82e3657e1a74b10967bfd7944c3c45a
      expression: 'last(/Template webservices/web.test.rspcode[dataselect,dataselect application.wadl])<>200'
      name: 'dataselect application.wadl'
      event_name: 'Dataselect application.wadl not found, return code {ITEM.VALUE}'
      priority: HIGH
      description: 'test request : https://{$ENDPOINT}/fdsnws/dataselect/1/application.wadl'
      manual_close: 'YES'
      tags:
        - tag: webservice
          value: dataselect
    - uuid: 0848f9b91db2476a8f9b4394d895b944
      expression: 'last(/Template webservices/web.test.rspcode[dataselect,dataselect accessible])<>200'
      name: 'dataselect not accessible'
      event_name: 'Dataselect is not accessible, return code {ITEM.VALUE}'
      priority: HIGH
      description: 'test request : https://{$ENDPOINT}/fdsnws/dataselect/1/'
      manual_close: 'YES'
      tags:
        - tag: webservice
          value: dataselect
    - uuid: 6c4ce2937fd44a03af8020e6f3ca5b26
      expression: 'last(/Template webservices/web.test.rspcode[dataselect,dataselect short request])<>200'
      name: 'dataselect short request'
      event_name: 'Dataselect short request failed, return code {ITEM.VALUE}'
      priority: HIGH
      description: 'test request : https://{$ENDPOINT}/fdsnws/dataselect/1/net={$ONLINECHECK_NET}&sta={$ONLINECHECK_STA}&loc={$ONLINECHECK_LOC}&cha={$ONLINECHECK_CHA}&start={$ONLINECHECK_START}&end={$ONLINECHECK_END}'
      manual_close: 'YES'
      tags:
        - tag: webservice
          value: dataselect
    - uuid: fea9c304508e4fa8816b0c7d688fe5fd
      expression: 'last(/Template webservices/web.test.rspcode[station,station application.wadl])<>200'
      name: 'station application.wadl'
      event_name: 'Station application.wadl not found, return code {ITEM.VALUE}'
      priority: HIGH
      description: 'test request: https://{$ENDPOINT}/fdsnws/station/1/application.wadl'
      manual_close: 'YES'
      tags:
        - tag: webservice
          value: station
    - uuid: f048e2a4d53b46acbfebb77e7d4beb45
      expression: 'last(/Template webservices/web.test.rspcode[station,station accessible])<>200'
      name: 'station not accessible'
      event_name: 'Station is not accessible, return code {ITEM.VALUE}'
      priority: HIGH
      description: 'test request: https://{$ENDPOINT}/fdsnws/station/1/'
      manual_close: 'YES'
      tags:
        - tag: webservice
          value: station
    - uuid: 696550710abc49418a5b546fd8db5955
      expression: 'last(/Template webservices/web.test.rspcode[station,station short request])<>200'
      name: 'station short request'
      event_name: 'Station short request failed, return code {ITEM.VALUE}'
      priority: HIGH
      description: 'test request: https://{$ENDPOINT}/fdsnws/station/1/net={$ONLINECHECK_NET}&sta={$ONLINECHECK_STA}&loc={$ONLINECHECK_LOC}&cha={$ONLINECHECK_CHA}&level=response'
      manual_close: 'YES'
      tags:
        - tag: webservice
          value: station
    - uuid: 76a137445eef404d8bbc5f59283db5b8
      expression: 'last(/Template webservices/web.test.rspcode[wfcatalog,wfcatalog application.wadl])<>200'
      name: 'wfcatalog application.wadl'
      event_name: 'WFCatalog application.wadl not found, return code {ITEM.VALUE}'
      priority: AVERAGE
      description: 'test request: https://{$ENDPOINT}/eidaws/wfcatalog/1/application.wadl'
      manual_close: 'YES'
      tags:
        - tag: webservice
          value: wfcatalog
    - uuid: c129ba9cfde84b88836d45cf2ec265ce
      expression: 'last(/Template webservices/web.test.rspcode[wfcatalog,wfcatalog accessible])<>200'
      name: 'wfcatalog not accessible'
      event_name: 'WFCatalog is not accessible, return code {ITEM.VALUE}'
      priority: AVERAGE
      description: 'test request: https://{$ENDPOINT}/eidaws/wfcatalog/1/'
      manual_close: 'YES'
      tags:
        - tag: webservice
          value: wfcatalog
    - uuid: a3a98c2e0c484de99d7175826f94be68
      expression: 'last(/Template webservices/web.test.rspcode[wfcatalog,wfcatalog short request])<>200'
      name: 'wfcatalog short request'
      event_name: 'WFCatalog short request failed, return code {ITEM.VALUE}'
      priority: AVERAGE
      description: 'test request: https://{$ENDPOINT}/eidaws/wfcatalog/1/net={$ONLINECHECK_NET}&sta={$ONLINECHECK_STA}&loc={$ONLINECHECK_LOC}&cha={$ONLINECHECK_CHA}&start={$ONLINECHECK_START}&end={$ONLINECHECK_END}'
      manual_close: 'YES'
      tags:
        - tag: webservice
          value: wfcatalog
